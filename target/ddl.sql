alter table check_in drop constraint FK5B9B0FBCFCC5EDB1;
alter table payment drop constraint FKD11C32064DF7D5C4;
alter table payment_item drop constraint FKE25C55AC2990F5A9;
alter table subscription drop constraint FK1456591D2990F5A9;
alter table user drop constraint FK36EBCB602E1B64;
alter table user_role drop constraint FK143BF46AB8759AC4;
alter table user_role drop constraint FK143BF46A5DA05EA4;
drop table admin if exists;
drop table buyer_information if exists;
drop table check_in if exists;
drop table pay_bundle if exists;
drop table payment if exists;
drop table payment_item if exists;
drop table registration_code if exists;
drop table role if exists;
drop table subscription if exists;
drop table user if exists;
drop table user_role if exists;
create table admin (id bigint generated by default as identity, version bigint not null, primary key (id));
create table buyer_information (id bigint generated by default as identity, version bigint not null, address_confirmed boolean not null, city varchar(255), company_name varchar(255), country varchar(255), country_code varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), phone_number varchar(255), receiver_name varchar(255), state varchar(255), street varchar(255), unique_customer_id varchar(255), zip varchar(255), primary key (id));
create table check_in (id bigint generated by default as identity, version bigint not null, checkintime timestamp not null, customer_id bigint not null, primary key (id));
create table pay_bundle (id bigint generated by default as identity, version bigint not null, bundlename varchar(255) not null, duration integer not null, price double not null, primary key (id));
create table payment (id bigint generated by default as identity, version bigint not null, buyer_id bigint not null, buyer_information_id bigint, currency varchar(255) not null, discount_cart_amount decimal(19,2) not null, paypal_transaction_id varchar(255), status varchar(9) not null, tax double not null, transaction_id varchar(255), primary key (id));
create table payment_item (id bigint generated by default as identity, version bigint not null, amount decimal(19,2) not null, discount_amount decimal(19,2) not null, item_name varchar(255) not null, item_number varchar(255) not null, payment_id bigint not null, quantity integer not null, payment_items_idx integer, primary key (id));
create table registration_code (id bigint generated by default as identity, date_created timestamp not null, token varchar(255) not null, username varchar(255) not null, primary key (id));
create table role (id bigint generated by default as identity, version bigint not null, authority varchar(255) not null unique, primary key (id));
create table subscription (id bigint generated by default as identity, version bigint not null, active boolean not null, enddate binary(255) not null, name varchar(255) not null, payment_id bigint not null, startdate binary(255) not null, primary key (id));
create table user (id bigint generated by default as identity, version bigint not null, account_expired boolean not null, account_locked boolean not null, birthdate binary(255) not null, email varchar(255) not null unique, enabled boolean not null, firstname varchar(255) not null, lastname varchar(255) not null, "password" varchar(255) not null, password_expired boolean not null, phone_number varchar(255) not null, subscription_id bigint, username varchar(255) not null unique, primary key (id));
create table user_role (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id));
alter table check_in add constraint FK5B9B0FBCFCC5EDB1 foreign key (customer_id) references user;
alter table payment add constraint FKD11C32064DF7D5C4 foreign key (buyer_information_id) references buyer_information;
alter table payment_item add constraint FKE25C55AC2990F5A9 foreign key (payment_id) references payment;
alter table subscription add constraint FK1456591D2990F5A9 foreign key (payment_id) references payment;
alter table user add constraint FK36EBCB602E1B64 foreign key (subscription_id) references subscription;
alter table user_role add constraint FK143BF46AB8759AC4 foreign key (role_id) references role;
alter table user_role add constraint FK143BF46A5DA05EA4 foreign key (user_id) references user;
